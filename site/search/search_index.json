{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\ud83d\ude80Bem-Vindo ao Portal de Documenta\u00e7\u00e3o da Facile Sistemas!","text":"<p>P\u00e1gina destinada a centralizar as documenta\u00e7\u00f5es e manuais das aplica\u00e7\u00f5es desenvolvidas e comercializadas pela Facile Sistemas.</p> <p>Aqui no Facile Docs, voc\u00ea encontra as informa\u00e7\u00f5es necess\u00e1rias para implantar, configurar e utilizar todas as nossas ferramentas. </p> <p>Nossas aplica\u00e7\u00f5es s\u00e3o para uso e benef\u00edcio dos nossos clientes, caso voc\u00ea queira utilizar nossas solu\u00e7\u00f5es em sua empresa entre em contato com nossa equipe comercial clicando aqui ou enviando e-mail para comercial@facilesistemas.com.br .</p>"},{"location":"#aplicacoes-disponiveis","title":"Aplica\u00e7\u00f5es dispon\u00edveis","text":""},{"location":"#facile-xml-e","title":"Facile XML-e","text":"<p>O mais completo gerenciador de NF-e, CT-e e NFS-e diretamente no seu ERP. </p> <p>Otimize tempo, diminua os processos, tenha seguran\u00e7a e economize!</p> <ul> <li> <p>Download de XML</p> </li> <li> <p>Facilitadores de lan\u00e7amento e checagem de pedidos</p> </li> <li> <p>Gest\u00e3o por KPI erelat\u00f3rios</p> </li> <li> <p>Alerta de impostos</p> </li> <li> <p>Diretamente do SEFAZ, sem nuvem!</p> </li> </ul>"},{"location":"#cifa-automacao-financeira","title":"CIFA - Automa\u00e7\u00e3o Financeira","text":"<p>Estamos colaborando para a constru\u00e7\u00e3o do futuro das integra\u00e7\u00f5es com as institui\u00e7\u00f5es banc\u00e1rias.</p> <ul> <li> <p>Nunca mais utilize CNAB</p> </li> <li> <p>Rob\u00f4s fazendo o trabalho pesado do financeiro da sua empresa</p> </li> <li> <p>T\u00edtulos conciliados automaticamente</p> </li> <li> <p>Tecnologia de ponta com seguran\u00e7a</p> </li> <li> <p>Comunica\u00e7\u00e3o via API diretamente com a institui\u00e7\u00e3o banc\u00e1ria</p> </li> </ul>"},{"location":"#farm-integracao-de-apis","title":"FARM - Integra\u00e7\u00e3o de API's","text":"<p>Interligando aplica\u00e7\u00f5es de ponta a ponta atrav\u00e9s de rob\u00f4s inteligentes.</p> <ul> <li> <p>ERP comunicando com e-commerces </p> </li> <li> <p>For\u00e7as de vendas atualizando diretamente com seus sistemas</p> </li> <li> <p>REST ou SOAP, para o FARM n\u00e3o importa!</p> </li> <li> <p>Agendamentos personalizados</p> </li> </ul>"},{"location":"#suporte","title":"Suporte","text":"<p>Para suporte espec\u00edfico favor registrar o ticket no portal: Central de Tickets</p>"},{"location":"cifa/","title":"Em constru\u00e7\u00e3o","text":""},{"location":"xmle/","title":"\ud83d\udcc3Facile XML-e","text":""},{"location":"xmle/#o-que-e","title":"O que \u00e9?","text":"<p>O mais completo gerenciador de NF-e, CT-e e NFS-e diretamente no seu ERP. </p> <p>Otimize tempo, diminua os processos, tenha seguran\u00e7a e economize!</p> <p>Uma ferramenta integrada ao ERP visando controle e agilidade nos processos de entrada de documento eletr\u00f4nico e Confronto de Impostos.</p>"},{"location":"xmle/#posso-testar","title":"Posso testar?","text":"<p>Sim, voc\u00ea pode estar aplicando o Facile XML-e em seu ERP e experimenta-lo de forma totalmente gratu\u00edta e sem compromisso, n\u00e3o precisa assinar nada para isso!</p> <p>Basta enviar um e-mail para: xmle@facilesistemas.com.br</p>"},{"location":"xmle/#como-funciona","title":"Como Funciona?","text":"<p>A Ferramenta FACILE XML-e possui uma rotina que trabalha de maneira autom\u00e1tica e transparente, monitorando no SEFAZ os documentos fiscais emitidos pelos fornecedores e disponibilizando diversas funcionalidades no ERP como: Manifesta\u00e7\u00e3o do Destinat\u00e1rio, Importa\u00e7\u00e3o do XML, Relat\u00f3rios, Confronto de Impostos calculados pelo ERP versus Impostos do XML, entre outros.</p> <p></p>"},{"location":"xmle/#_1","title":"Introdu\u00e7\u00e3o","text":""},{"location":"xmle/#principais-beneficios","title":"Principais Benef\u00edcios","text":"<ul> <li> <p>Download e XML</p> </li> <li> <p>Facilitadores de lan\u00e7amento e checagem de pedidos</p> </li> <li> <p>Gest\u00e3o por KPI erelat\u00f3rios</p> </li> <li> <p>Alerta de impostos</p> </li> <li> <p>Controle total sobre os documentos eletr\u00f4nicos emitidos contra a sua empresa</p> </li> <li> <p>Atender a lei de manifesta\u00e7\u00e3o do destinat\u00e1rio</p> </li> <li> <p>Convers\u00e3o de Unidade de Medida personalizada por Fornecedor</p> </li> <li> <p>Diversos Pontos de Entrada para customiza\u00e7\u00f5es</p> </li> <li> <p>Diretamente do SEFAZ, sem nuvem!</p> </li> </ul> <p></p>"},{"location":"xmle/#e-ainda-tem-mais","title":"E ainda tem mais...","text":"<ul> <li> <p>Consulta avan\u00e7ada de produtos, diminuindo os erros na amarra\u00e7\u00e3o Produto X fornecedor</p> </li> <li> <p>Cadastro de Fornecedor baseado no XML</p> </li> <li> <p>Impress\u00e3o da DANFE/DACTE baseado no XML direto no ERP</p> </li> <li> <p>Exporta\u00e7\u00e3o do XML para arquivo no computador</p> </li> <li> <p>Ferramenta pronta para a valida\u00e7\u00e3o do CEST</p> </li> <li> <p>Amarra\u00e7\u00e3o Pedido de Compras X CT-e</p> </li> <li> <p>Regras inteligentes para gera\u00e7\u00e3o autom\u00e1tica do documento de entrada</p> </li> </ul>"},{"location":"xmle/#_2","title":"Introdu\u00e7\u00e3o","text":""},{"location":"xmle/#checkdoc","title":"CheckDoc","text":""},{"location":"xmle/#_3","title":"Introdu\u00e7\u00e3o","text":""},{"location":"xmle/#confronto-de-impostos","title":"Confronto de Impostos","text":""},{"location":"xmle/#_4","title":"Introdu\u00e7\u00e3o","text":""},{"location":"xmle/#configuracoes-simplificadas","title":"Configura\u00e7\u00f5es simplificadas","text":""},{"location":"xmle/#_5","title":"Introdu\u00e7\u00e3o","text":""},{"location":"xmle/#suporte","title":"Suporte","text":"<p>Para suporte espec\u00edfico favor registrar o ticket no portal: Central de Tickets</p>"},{"location":"xmle/dicionario-dados/","title":"\ud83d\udcc5Dicion\u00e1rio de Dados","text":"<p>Segue documenta\u00e7\u00e3o do dicion\u00e1rio de dados criado pela ferramenta.</p>"},{"location":"xmle/dicionario-dados/#tabela-zzw-produto-x-fornecedor-xml-e","title":"Tabela ZZW - Produto x Fornecedor XML-e","text":""},{"location":"xmle/dicionario-dados/#campos","title":"Campos","text":"Campo Tipo Tam. Dec. Descri\u00e7\u00e3o Completa ZZW_FILIAL C 2 0 Filial Filial do Sistema ZZW_FORNEC C 6 0 Fornecedor Codigo do Fornecedor ZZW_LOJA C 2 0 Loja Loja do Fornecedor ZZW_NOMFOR C 40 0 Nome Fornec. Nome do Fornecedor ZZW_CODPRF C 30 0 Cod.Prod.For Codigo do Produto no Forn ZZW_PRODUT C 15 0 Produto Codigo do Produto ZZW_NOMPRO C 40 0 Descricao Nome do Produto ZZW_SEGUM C 2 0 Seg.Uni.Med. Segunda Unidade de Medida ZZW_CONV N 5 2 Fator Conv. Fator Conversao ZZW_TIPCON C 1 0 Tipo de Conv Tipo de Conversao ZZW_DPRODF C 90 0 Desc.Prd.For Descricao Prod Fornecedor ZZW_CLIFOR C 1 0 Cliente/Forn Cliente ou Fornecedor"},{"location":"xmle/dicionario-dados/#indices","title":"\u00cdndices","text":"Ordem Chave 1 ZZW_FILIAL + ZZW_FORNEC + ZZW_LOJA + ZZW_CODPRF + ZZW_PRODUT 2 ZZW_FILIAL + ZZW_FORNEC + ZZW_LOJA + ZZW_PRODUT 3 ZZW_FILIAL + ZZW_CLIFOR + ZZW_FORNEC + ZZW_LOJA + ZZW_CODPRF + ZZW_PRODUT"},{"location":"xmle/dicionario-dados/#_1","title":"Dicion\u00e1rio de Dados","text":""},{"location":"xmle/dicionario-dados/#tabela-zzz-documentos-gerenciados","title":"Tabela ZZZ - Documentos Gerenciados","text":""},{"location":"xmle/dicionario-dados/#campos_1","title":"Campos","text":"Campo Tipo Tam. Dec. Descri\u00e7\u00e3o Completa ZZZ_FILIAL C 2 0 Filial Filial do Sistema ZZZ_SITDOC C 1 0 Sit. NF-e Situacao da Nota Fiscal ZZZ_TIPO C 1 0 Tipo XML Tipo de XML ZZZ_STATUS C 1 0 Manif. Atual Status da Manifestacao ZZZ_DOC C 9 0 Nota Fiscal Numero da Nota Fiscal ZZZ_SERIE C 3 0 Serie Serie da Nota Fiscal ZZZ_EMISNF D 8 0 Emissao NF Data Emissao da NF ZZZ_CNPJ C 14 0 CNPJ Fornece CNPJ Fornecedor ZZZ_NOEMIT C 60 0 Nome/Razao Nome/Razao ZZZ_CHAVE C 60 0 Chave NF Chave da Nota Fiscal ZZZ_CODEVE C 3 0 Cod.Evento Status do Evento ZZZ_XML M 10 0 XML XML ZZZ_DTRECB D 8 0 Data Recebto Data de Recebimento ZZZ_ORIGEM C 1 0 Origem XML Origem XML ZZZ_OK C 4 0 OK OK ZZZ_VLDOC N 13 2 Valor NF-e Valor NF-e ZZZ_ANONFE C 4 0 Ano Emissao Ano Emissao NFe ZZZ_MESNFE C 2 0 Mes Emissao Mes Emissao da NFE ZZZ_IEEMIT C 11 0 Inscr. Est. Inscricao Estadual emiten ZZZ_DESRES C 150 0 Desc.Proces. Descricao do Processament ZZZ_CODRET C 3 0 Cod.Process. Status da Resposta ZZZ_DTREC D 8 0 Data Aut. Data recebimento ZZZ_UF C 2 0 Estado Estado de Origem ZZZ_ENVMAI C 1 0 Mail Enviado E-Mail Enviado ZZZ_NSU C 40 0 NSU NSU ZZZ_PEDCHK C 1 0 Ped. Checado Pedido Compra verificado ZZZ_PEDOBS M 10 0 Obs Ped Comp Observacao Pedido Compra ZZZ_YHORA C 5 0 Hora Hora do download XML ZZZ_ECKDOC C 1 0 Email CkDoc Email Enviado pelo CKDoc ZZZ_PDF M 10 0 Doc. PDF Documento PDF"},{"location":"xmle/dicionario-dados/#_2","title":"Dicion\u00e1rio de Dados","text":""},{"location":"xmle/dicionario-dados/#indices_1","title":"\u00cdndices","text":"Ordem Chave 1 ZZZ_FILIAL + ZZZ_CHAVE 2 ZZZ_FILIAL + ZZZ_CNPJ + ZZZ_DOC + ZZZ_SERIE 3 ZZZ_FILIAL + ZZZ_DOC + ZZZ_SERIE + ZZZ_CNPJ 4 ZZZ_FILIAL + ZZZ_EMISNF + ZZZ_CNPJ"},{"location":"xmle/dicionario-dados/#_3","title":"Dicion\u00e1rio de Dados","text":""},{"location":"xmle/dicionario-dados/#tabela-sd1-itens-documento-de-entrada","title":"Tabela SD1 - Itens Documento de Entrada","text":""},{"location":"xmle/dicionario-dados/#campos_2","title":"Campos","text":"Campo Tipo Tam. Dec. Descri\u00e7\u00e3o Completa D1_ZPEDIDO C 6 0 Pedido Temp Pedido Temporario D1_ZITEMPD C 4 0 Item Temp Item Temporario D1_ZITEMOR C 4 0 Item Orig Item Original D1_ZNFIMP C 1 0 NF Importada NF Importada D1_ZITEXML C 5 0 Item no XML Item no XML"},{"location":"xmle/dicionario-dados/#tabela-sx6-parametros-do-sistema","title":"Tabela SX6 - Par\u00e2metros do Sistema","text":"Par\u00e2metros Tipo Descri\u00e7\u00e3o ZZ_ARMZPED L Informa se busca o Armazem do Produto no Pedido de Compras (C7_LOCAL) ZZ_AUTHLOG C Nome de usu\u00e1rio fornecido pela Facile ZZ_AUTHPSW C Senha fornecida pela Facile ZZ_CERTCA C Caminho do arquivo CA.PEM ZZ_CERTKEY C Caminho do arquivo KEY.PEM ZZ_CERTPRI C Caminho do arquivo CERT.PEM ZZ_CIENAUT L Manifesta ci\u00eancia da opera\u00e7\u00e3o automaticamente? ZZ_CLASSIF L Ativa a abertura da classifica\u00e7\u00e3o do documento automaticamente ao gerar pr\u00e9-nota? ZZ_CODEAUT L Ativa autentica\u00e7\u00e3o na Facile ZZ_CONFAUT C Tipo de tratativa para transmissao da confirmacao da operacao ZZ_DEBUG L Ativa o modo Debug no console do appserver ZZ_DELMAIL L Deleta o e-mail da caixa de correio apos o download do XML? ZZ_DESTFIS C Destinatarios para workflow de\u00a0 mudan\u00e7as de status das NFe ZZ_MAILXML L Ativa busca de XML no e-mail ZZ_OPERCOM C Tipo de opera\u00e7\u00e3o para entrada normal ZZ_OPERTRA C Tipo de opera\u00e7\u00e3o para transfer\u00eancias ZZ_PCOBRIG L Obrigat\u00f3rio vincular pedido de compra em todos os itens ZZ_POPCNT C Conta de e-mail para conex\u00e3o POP ZZ_POPEND C Endereco do servidor POP de e-mail ZZ_POPPSW C Senha da Conta de e-mail para conex\u00e3o POP ZZ_POPSSL L Utiliza conexao segura para acesso POP ao e-mail ZZ_PRODCTE C Produto padr\u00e3o para entrada de CT-e ZZ_PSWENTR C Senha que autoriza entrada com diverg\u00eancia de impostos ZZ_TESCTE C TES padr\u00e3o para entrada de CT-e ZZ_TIMEUPD N Tempo de refresh da tela de gest\u00e3o \u00e0 vista (minutos) ZZ_UPDEAN L Atualiza o EAN no campo B1_CODBAR de acordo com o XML ZZ_VERSAOM C Vers\u00e3o do webservice Sefaz ZZ_VLDCEST L Ativa a validacao do CEST ZZ_VLDCOFI L Ativa valida\u00e7\u00e3o de COFINS na classifica\u00e7\u00e3o ZZ_VLDICMS L Ativa valida\u00e7\u00e3o de ICMS na classifica\u00e7\u00e3o ZZ_VLDIPI L Ativa valida\u00e7\u00e3o de IPI na classifica\u00e7\u00e3o ZZ_VLDNCM C Regra de valida\u00e7\u00e3o de NCM na classifica\u00e7\u00e3o ZZ_VLDNFE L Desativa (.T.) a tela de confronto de dados entre XML e ERP ZZ_VLDPIS L Ativa valida\u00e7\u00e3o de PIS na classifica\u00e7\u00e3o ZZ_VLDST L Ativa valida\u00e7\u00e3o de ICMS ST na classifica\u00e7\u00e3o ZZ_XMLAUTO L Informa se ir\u00e1 baixar o XML automaticamente via JOB"},{"location":"xmle/download-patch/","title":"\u2b07\ufe0fPatch Atualizado Facile XML-e","text":"<p>Fa\u00e7a o download do patch atualizado compat\u00edvel com a vers\u00e3o do seu ERP.</p>"},{"location":"xmle/download-patch/#versao-12133","title":"Vers\u00e3o 12.1.33","text":"<p>Clique aqui para baixar</p>"},{"location":"xmle/download-patch/#versao-1212210","title":"Vers\u00e3o 12.1.2210","text":"<p>Clique aqui para baixar</p>"},{"location":"xmle/release-notes/","title":"\ud83d\udcddNotas de Vers\u00e3o","text":"<p>Detalhes das atualiza\u00e7\u00f5es liberadas da ferramenta.</p>"},{"location":"xmle/release-notes/#versao-4335010","title":"Vers\u00e3o 4.33.5010","text":"<p>04/01/2022</p> <ul> <li> <p>NOVIDADE: Criado novo compatibilizador \u00fanico para dicion\u00e1rio na System (U_UPDXSYS)</p> </li> <li> <p>BUG: Inclu\u00eddo novas valida\u00e7\u00f5es ao importar NFS-e via PDF</p> </li> </ul>"},{"location":"xmle/release-notes/#versao-4335009","title":"Vers\u00e3o 4.33.5009","text":"<p>22/12/2022</p> <ul> <li> <p>NOVIDADE: Inclu\u00eddo nova tabela para registrar todos os NSUs</p> </li> <li> <p>NOVIDADE: Desenvolvido para salvar os NSUs das NF-e</p> </li> <li> <p>NOVIDADE: Denvolvido classe e JOB para buscar no sefaz os NSUs faltantes</p> </li> <li> <p>NOVIDADE: Criado tela para demonstrar a carta de corre\u00e7\u00e3o</p> </li> </ul>"},{"location":"xmle/release-notes/#versao-4335008","title":"Vers\u00e3o 4.33.5008","text":"<p>22/12/2022</p> <ul> <li> <p>NOVIDADE: Inclu\u00eddo a informa\u00e7\u00e3o do armaz\u00e9m do pedido na tela principal de entrada de doc.</p> </li> <li> <p>NOVIDADE: Inclu\u00eddo op\u00e7\u00e3o de visualizar, alterar e excluir pr\u00e9-nota</p> </li> <li> <p>NOVIDADE: Inclu\u00eddo op\u00e7\u00e3o de visualizar e excluir documento de entrada</p> </li> <li> <p>BUG: Removido os documentos bloqueados dos relat\u00f3rios</p> </li> </ul>"},{"location":"xmle/release-notes/#versao-4335007","title":"Vers\u00e3o 4.33.5007","text":"<p>22/12/2022</p> <ul> <li>NOVIDADE: Criado ponto de entrada P011ITEM para manipular os itens da SD1 no CTE de venda</li> </ul>"},{"location":"xmle/release-notes/#versao-4335006","title":"Vers\u00e3o 4.33.5006","text":"<p>21/12/2022</p> <ul> <li>NOVIDADE: Inclu\u00eddo campo Tipo de Produto no filtro de regras por processo</li> </ul>"},{"location":"xmle/release-notes/#versao-4335005","title":"Vers\u00e3o 4.33.5005","text":"<p>19/12/2022</p> <ul> <li>NOVIDADE: Finalizado a primeira vers\u00e3o da importa\u00e7\u00e3o autom\u00e1tica do CTE de venda</li> </ul>"},{"location":"xmle/release-notes/#versao-4335004","title":"Vers\u00e3o 4.33.5004","text":"<p>16/12/2022</p> <ul> <li> <p>BUG: Corre\u00e7\u00e3o na descri\u00e7\u00e3o do produto na tela de entrada</p> </li> <li> <p>BUG: Tratativa para n\u00e3o permitir XML sem filial</p> </li> </ul>"},{"location":"xmle/release-notes/#versao-4335003","title":"Vers\u00e3o 4.33.5003","text":"<p>08/12/2022</p> <ul> <li> <p>NOVIDADE: Cria parametro para permitir grupos de usu\u00e1rios a bloquear entrada de documento</p> </li> <li> <p>NOVIDADE: Inclu\u00eddo informa\u00e7\u00e3o da unidade de pedido do XML, produto e pedido de compras na tela de entrada</p> </li> </ul>"},{"location":"xmle/release-notes/#versao-4335002","title":"Vers\u00e3o 4.33.5002","text":"<p>01/12/2022</p> <ul> <li>BUG: Corre\u00e7\u00e3o na gera\u00e7\u00e3o da devolu\u00e7\u00e3o de venda</li> </ul>"},{"location":"xmle/release-notes/#versao-4335001","title":"Vers\u00e3o 4.33.5001","text":"<p>01/12/2022</p> <ul> <li>NOVIDADE: Implantado melhoria de importa\u00e7\u00e3o de NFS-e</li> </ul>"},{"location":"xmle/release-notes/#versao-4335000","title":"Vers\u00e3o 4.33.5000","text":"<p>22/11/2022</p> <ul> <li> <p>NOVIDADE: \u00a0Entrada de beneficiamento</p> </li> <li> <p>NOVIDADE: \u00a0Bloqueio de entrada</p> </li> <li> <p>NOVIDADE: \u00a0Nova legenda</p> </li> </ul>"},{"location":"xmle/release-notes/#versao-4331042","title":"Vers\u00e3o 4.33.1042","text":"<p>10/11/2022</p> <ul> <li>Ajuste no PTX008 para o ponto de entrada de numero de documento</li> </ul>"},{"location":"xmle/release-notes/#versao-4331041","title":"Vers\u00e3o 4.33.1041","text":"<p>09/11/2022</p> <ul> <li>Corre\u00e7\u00e3o no execauto do CTE (MATA116) ap\u00f3s atualiza\u00e7\u00e3o da Totvs</li> </ul>"},{"location":"xmle/release-notes/#versao-4331040","title":"Vers\u00e3o 4.33.1040","text":"<p>08/11/2022</p> <ul> <li> <p>Corre\u00e7\u00e3o no busca quando a empresa utiliza CPF no sigamat</p> </li> <li> <p>Corre\u00e7\u00e3o no PTX0008 para utilizar a nova rotina de numero de documento</p> </li> </ul>"},{"location":"xmle/release-notes/#versao-4331039","title":"Vers\u00e3o 4.33.1039","text":"<p>03/11/2022</p> <ul> <li>Criado ponto de entrada P007CTE</li> </ul>"},{"location":"xmle/release-notes/#versao-4331038","title":"Vers\u00e3o 4.33.1038","text":"<p>01/11/2022</p> <ul> <li>Ajuste na ordena\u00e7\u00e3o da SD1 quando possui convers\u00e3o de unidade de medida</li> </ul>"},{"location":"xmle/release-notes/#versao-4331037","title":"Vers\u00e3o 4.33.1037","text":"<p>28/10/2022</p> <ul> <li>Removido valida\u00e7\u00e3o de cnpj raiz nos jobs</li> </ul>"},{"location":"xmle/release-notes/#versao-4331036","title":"Vers\u00e3o 4.33.1036","text":"<p>26/10/2022</p> <ul> <li>Criado parametro ZZ_ORDEDIC para indicar se deve ordenar o array de itens de acordo com a SD1</li> </ul>"},{"location":"xmle/release-notes/#versao-4331035","title":"Vers\u00e3o 4.33.1035","text":"<p>24/10/2022</p> <ul> <li> <p>Corre\u00e7\u00e3o no update das legendas</p> </li> <li> <p>Corre\u00e7\u00e3o na cria\u00e7\u00e3o de arquivos de logs</p> </li> </ul>"},{"location":"xmle/release-notes/#versao-4331034","title":"Vers\u00e3o 4.33.1034","text":"<p>20/10/2022</p> <ul> <li>Cria\u00e7\u00e3o de ponto de entrada XCarregDados para alterar a filial de destino do XML</li> </ul>"},{"location":"xmle/release-notes/#versao-4331033","title":"Vers\u00e3o 4.33.1033","text":"<p>14/10/2022</p> <ul> <li>Corre\u00e7\u00e3o na fun\u00e7\u00e3o de valida\u00e7\u00e3o de impostos</li> </ul>"},{"location":"xmle/release-notes/#versao-4331032","title":"Vers\u00e3o 4.33.1032","text":"<p>13/10/2022</p> <ul> <li>Melhoria para gravar na ZZW a descri\u00e7\u00e3o do produto que vem no XML</li> </ul>"},{"location":"xmle/release-notes/#versao-4331031","title":"Vers\u00e3o 4.33.1031","text":"<p>11/10/2022</p> <ul> <li> <p>Corre\u00e7\u00e3o na impress\u00e3o do CTE na tag CEP</p> </li> <li> <p>Melhoria para preencher o campo D1_DFABRIC atrav\u00e9s da tag dFab</p> </li> </ul>"},{"location":"xmle/release-notes/#versao-4331030","title":"Vers\u00e3o 4.33.1030","text":"<p>05/10/2022</p> <ul> <li>Ajuste no checkdoc autom\u00e1tico e workflow</li> </ul>"},{"location":"xmle/release-notes/#versao-4331029","title":"Vers\u00e3o 4.33.1029","text":"<p>30/09/2022</p> <ul> <li> <p>Melhoria no checkdoc para incluir filial e cnpj no assunto do workflow</p> </li> <li> <p>Considerar pedido de compras faltando zeros a esquerda no xPED</p> </li> <li> <p>Melhorado processo dos JOBS para controle de semaforo e logs</p> </li> </ul>"},{"location":"xmle/release-notes/#versao-4331028","title":"Vers\u00e3o 4.33.1028","text":"<p>26/09/2022</p> <ul> <li>Corre\u00e7\u00e3o na query de exporta\u00e7\u00e3o de XML para banco de dados Oracle</li> </ul>"},{"location":"xmle/release-notes/#versao-4331027","title":"Vers\u00e3o 4.33.1027","text":"<p>14/09/2022</p> <ul> <li>Corrigido erro ap\u00f3s incluir novas colunas no grid de pedido de compras</li> </ul>"},{"location":"xmle/release-notes/#versao-4331026","title":"Vers\u00e3o 4.33.1026","text":"<p>11/09/2022</p> <ul> <li>Melhoria incluindo valores do pedido de compra</li> </ul>"},{"location":"xmle/release-notes/#versao-4331025","title":"Vers\u00e3o 4.33.1025","text":"<p>06/09/2022</p> <ul> <li>Inclu\u00eddo tratamento de serie 3 digitos para CTE</li> </ul>"},{"location":"xmle/release-notes/#versao-4331024","title":"Vers\u00e3o 4.33.1024","text":"<p>01/09/2022</p> <ul> <li>Alterado para n\u00e3o exportar XML de documento cancelado</li> </ul>"},{"location":"xmle/instalacao/aplicar-patch/","title":"\ud83e\uddd1\u200d\ud83d\udcbbAplicando o Patch","text":"<p>A implanta\u00e7\u00e3o da ferramenta se inicia com a aplica\u00e7\u00e3o do patch de programa no reposit\u00f3rio de programas (RPO) do ERP.  </p> <p>Caso n\u00e3o possua o patch atualizado da ferramenta, baixe em: P\u00e1gina de download</p>"},{"location":"xmle/instalacao/aplicar-patch/#como-aplicar-patch","title":"Como aplicar patch?","text":"<p>Basta seguir o manual oficial do ERP:</p> <p>Automa\u00e7\u00e3o Fiscal - Configura\u00e7\u00e3o - Configurando e aplicando pacotes pelo VSCODE \u2013 Central de Atendimento TOTVS</p>"},{"location":"xmle/instalacao/compatibilizador/","title":"\ud83e\udd16Compatibilizador","text":"<p>A ferramenta utiliza tabelas, campos, \u00edndices e par\u00e2metros customizados, com isso precisamos executar o compatibilizador para que sejam criados corretamente. </p> <p>Para aplica\u00e7\u00e3o do compatibilizador, basta chamar no programa inicial do ERP conforme conforme tipo de dicion\u00e1rio utilizado.</p>"},{"location":"xmle/instalacao/compatibilizador/#dicionario-no-banco-de-dados","title":"Dicion\u00e1rio no Banco de Dados","text":"<p>Dever\u00e1 ser utilizado o compatibilizador: U_UPDDICBD</p> <p></p>"},{"location":"xmle/instalacao/compatibilizador/#dicionario-na-system","title":"Dicion\u00e1rio na SYSTEM","text":"<p>Dever\u00e1 ser utilizado o compatibilizador: U_UPDXSYS</p> <p></p>"},{"location":"xmle/instalacao/compatibilizador/#o-que-foi-criado","title":"O que foi criado?","text":"<p>Para saber tudo que foi criado pelo nosso compatibilizador, basta acessar a documenta\u00e7\u00e3o:</p> <p>Dicion\u00e1rio de Dados</p>"},{"location":"xmle/instalacao/configura-jobs/","title":"\ud83d\udc7eConfigurando os Jobs","text":"<p>Os Jobs s\u00e3o respons\u00e1veis pela automatiza\u00e7\u00e3o dos processos na ferramenta, como por exemplo, buscar as chaves e os seus respectivos XML diretamente do SEFAZ e tamb\u00e9m outros processos como workflows e CheckDoc.</p> <p>Existem duas op\u00e7\u00f5es para configura\u00e7\u00e3o dos jobs, sendo via ONSTART no appserver.ini (recomendado) ou via Schedule do ERP.</p>"},{"location":"xmle/instalacao/configura-jobs/#via-onstart-no-appserverini","title":"Via OnStart no AppServer.ini","text":"<p>Nesse modo os JOBs ser\u00e3o executados diretamente no appserver em quest\u00e3o e em intervalos de acordo com um prazo configurado (n\u00e3o \u00e9 poss\u00edvel configurar o n\u00famero de execu\u00e7\u00f5es e nem o hor\u00e1rio exato da execu\u00e7\u00e3o igual no Schedule).</p> <p>Para um melhor resultar e evitar conflitos de processamento, recomendamos criar dois appservers exclusivos para execu\u00e7\u00e3o desses Jobs, sendo:</p> <ul> <li> <p>Appserver_Facile_Xml01: Respons\u00e1vel pelo download dos documentos</p> </li> <li> <p>Appserver_Facile_Xml02: Respons\u00e1vel pela revalida\u00e7\u00e3o dos documentos</p> </li> </ul> <p>Obs.: Os nomes das pastas do appserver aqui mencionados s\u00e3o apenas sugest\u00f5es, fique a vontade para altera-los.</p> <p>Vamos configurar:</p>"},{"location":"xmle/instalacao/configura-jobs/#appserver_facile_xml01","title":"Appserver_Facile_Xml01","text":"<p>Crie um novo appserver baseado no appserver de produ\u00e7\u00e3o e renomeie para \"appserver_facile_xml01\".</p> <p></p> <p>Entre na pasta criada e altere o arquivo appserver.ini configurando RPO exclusivo para esse servi\u00e7o e no final do arquivo configure os JOBs conforme abaixo:</p> <pre><code>;;Job Respons\u00e1vel por baixar as NF-e no Sefaz\n[PTXJ001]\nMAIN=U_PTXJ001\nENVIRONMENT=PRODUCAO\nnparms=2\nParm1=01\nParm2=0101\n\n;;Job respons\u00e1vel por realizar o download do CT-e no Sefaz\n[PTXJ003]\nMAIN=U_PTXJ003\nENVIRONMENT=PRODUCAO\nnparms=2\nParm1=01\nParm2=0101\n\n;;Tag respons\u00e1vel por inicializar e controlar os jobs\n[ONSTART]\nJOBS=PTXJ001,PTXJ003\nREFRESHRATE=4000\n</code></pre>"},{"location":"xmle/instalacao/configura-jobs/#explicando-as-tags","title":"Explicando as TAGs","text":"<p>MAIN\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0=&gt; Nome do programa ser chamado</p> <p>ENVIRONMENT  =&gt; Ambiente que o JOB ser\u00e1 execuado</p> <p>nparms\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0=&gt; Quantidade de par\u00e2metros a serem utilizados</p> <p>Parm1\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0=&gt; Informe o c\u00f3digo da empresa (igual ao cEmpAnt)</p> <p>Parm2\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0=&gt; Informe o c\u00f3digo da primeira filial (igual ao cFilAnt)</p> <p>REFRESHRATE\u00a0\u00a0\u00a0\u00a0=&gt; Intervalo de tempo (em segundos) para que execu\u00e7\u00e3o do JOB</p> <p>Basta salvar o appserver.ini com essas altera\u00e7\u00f5es.</p>"},{"location":"xmle/instalacao/configura-jobs/#appserver_facile_xml02","title":"Appserver_Facile_Xml02","text":"<p>Crie um novo appserver baseado no appserver de produ\u00e7\u00e3o e renomeie para \"appserver_facile_xml02\".</p> <p></p> <p>Entre na pasta criada e altere o arquivo appserver.ini configurando RPO exclusivo para esse servi\u00e7o e no final do arquivo configure os JOBs conforme abaixo:</p> <pre><code>;;Job Respons\u00e1vel por revalidar os documentos no Sefaz\n[PTXJ004]\nMAIN=U_PTXJ004\nENVIRONMENT=PRODUCAO\nnparms=2\nParm1=01\nParm2=0101\n\n;;Tag respons\u00e1vel por inicializar e controlar os jobs\n[ONSTART]\nJOBS=PTXJ004\nREFRESHRATE=4000\n</code></pre>"},{"location":"xmle/instalacao/configura-jobs/#explicando-as-tags_1","title":"Explicando as TAGs","text":"<p>MAIN\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0=&gt; Nome do programa ser chamado</p> <p>ENVIRONMENT =&gt; Ambiente que o JOB ser\u00e1 execuado</p> <p>nparms\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0=&gt; Quantidade de par\u00e2metros a serem utilizados</p> <p>Parm1\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0=&gt; Informe o c\u00f3digo da empresa (igual ao cEmpAnt)</p> <p>Parm2\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0=&gt; Informe o c\u00f3digo da primeira filial (igual ao cFilAnt)</p> <p>REFRESHRATE\u00a0\u00a0\u00a0\u00a0=&gt; Intervalo de tempo (em segundos) para que execu\u00e7\u00e3o do JOB</p> <p>Basta salvar o appserver.ini com essas altera\u00e7\u00f5es.</p>"},{"location":"xmle/instalacao/configura-jobs/#via-schedule-do-erp","title":"Via Schedule do ERP","text":"<p>Acesse o ambiente Configurador (SIGACFG)</p> <p>Ambiente &gt; Schedule &gt; Schedule</p> <p>Obs.: O servi\u00e7o de schedule e seu Agent j\u00e1 deve estar configurados e funcionando, segue documenta\u00e7\u00e3o oficial:</p> <p>Schedule - Como agendar a execu\u00e7\u00e3o de rotinas - Frameworksp - TDN</p> <p>Acesse a vis\u00e3o \"Schedule &gt; Agendamentos &gt; Cadastro\"</p> <p></p>"},{"location":"xmle/instalacao/configura-jobs/#ptxj001-baixa-de-nf-e","title":"PTXJ001 - Baixa de NF-e","text":"<p>Deve ser configurado um agendamento do PTXJ001 para cada grupo de empresas e selecionar apenas a primeira filial.</p> <p>Exemplo:</p> <p>Empresa 01 e possui as filiais 0101, 0102 e 0103</p> <p>O campo \"Empresa/Filial\" ficar\u00e1: 01/0101;</p> <p>Realize o cadastro do primeiro JOB seguindo o exemplo abaixo:</p> <p></p> <p>Lembre-se de alterar o \"Ambiente\" e \"Empresa/Filial\" conforme o seu cen\u00e1rio.</p> <p>Antes de confimar o cadastro, vamos configurar a recorr\u00eancia do JOB (clicando no bot\u00e3o parecido com: \ud83d\udd04\ufe0f).</p> <p>Na tela de recorr\u00eancia:</p> <p></p> <p>Obs.: O SEFAZ por padr\u00e3o bloqueio consultas repetidas em menos de 1 hora de intervalo.</p> <p>Agora sim podemos confirmar a tela de recorr\u00eancia e a tela de cadastro do agendamento \u2714\ufe0f.</p>"},{"location":"xmle/instalacao/configura-jobs/#ptxj003-baixa-de-ct-e","title":"PTXJ003 - Baixa de CT-e","text":"<p>Deve ser configurado um agendamento do PTXJ003 para cada grupo de empresas e selecionar apenas a primeira filial.</p> <p>Exemplo:</p> <p>Empresa 01 e possui as filiais 0101, 0102 e 0103</p> <p>O campo \"Empresa/Filial\" ficar\u00e1: 01/0101;</p> <p>Realize o cadastro do segundo JOB seguindo o exemplo abaixo:</p> <p></p> <p>Lembre-se de alterar o \"Ambiente\" e \"Empresa/Filial\" conforme o seu cen\u00e1rio.</p> <p>Antes de confimar o cadastro, vamos configurar a recorr\u00eancia do JOB (clicando no bot\u00e3o parecido com: \ud83d\udd04\ufe0f).</p> <p>Na tela de recorr\u00eancia:</p> <p></p> <p>Obs.: O SEFAZ por padr\u00e3o bloqueio consultas repetidas em menos de 1 hora de intervalo.</p> <p>Agora sim podemos confirmar a tela de recorr\u00eancia e a tela de cadastro do agendamento \u2714\ufe0f.</p>"},{"location":"xmle/instalacao/configura-jobs/#ptxj004-revalidacao-de-nf-e-e-ct-e","title":"PTXJ004 - Revalida\u00e7\u00e3o de NF-e e CT-e","text":"<p>Deve ser configurado um agendamento do PTXJ003 para cada grupo de empresas e selecionar apenas a primeira filial.</p> <p>Exemplo:</p> <p>Empresa 01 e possui as filiais 0101, 0102 e 0103</p> <p>O campo \"Empresa/Filial\" ficar\u00e1: 01/0101;</p> <p>Realize o cadastro do terceiro JOB seguindo o exemplo abaixo:</p> <p></p> <p>Lembre-se de alterar o \"Ambiente\" e \"Empresa/Filial\" conforme o seu cen\u00e1rio.</p> <p>Antes de confimar o cadastro, vamos configurar a recorr\u00eancia do JOB (clicando no bot\u00e3o parecido com: \ud83d\udd04\ufe0f).</p> <p>Na tela de recorr\u00eancia:</p> <p></p> <p>Obs.: O SEFAZ por padr\u00e3o bloqueio consultas repetidas em menos de 1 hora de intervalo.</p> <p>Agora sim podemos confirmar a tela de recorr\u00eancia e a tela de cadastro do agendamento \u2714\ufe0f.</p>"},{"location":"xmle/instalacao/configura-jobs/#rpo-do-job","title":"RPO do JOB","text":"<p>O RPO do ambiente que executa os JOBs precisa estar com o patch da ferramenta aplicado e recomendamos que n\u00e3o seja compartilhado com outros ambientes. No caso do Schedule, ir\u00e1 utilizar o pr\u00f3prio RPO do ambiente Schedule e tamb\u00e9m necessita do patch aplicado.</p> <p>Obs.: Os appserver.ini criados dever\u00e3o apontar para esse RPO com o patch aplicado.</p>"},{"location":"xmle/instalacao/configura-jobs/#parametros-de-autenticacao","title":"Par\u00e2metros de autentica\u00e7\u00e3o","text":"<p>Dever\u00e1 ser configurado os par\u00e2metros abaixo com as credenciais fornecidas pela Facile Sistemas:</p>"},{"location":"xmle/instalacao/configura-jobs/#zz_authlog","title":"ZZ_AUTHLOG","text":"<p>Descri\u00e7\u00e3o: Usu\u00e1rio para autentica\u00e7\u00e3o na Facile Sistemas</p>"},{"location":"xmle/instalacao/configura-jobs/#zz_authpsw","title":"ZZ_AUTHPSW","text":"<p>Descri\u00e7\u00e3o: Senha para autentica\u00e7\u00e3o na Facile Sistemas</p> <p>Ainda n\u00e3o tem as credenciais? </p> <p>Basta enviar um e-mail para: xmle@facilesistemas.com.br</p>"},{"location":"xmle/instalacao/menus/","title":"\ud83c\udfafCriando os Menus","text":"<p>No menu teremos as principais rotinas da ferramenta, com isso basta seguirmos a cria\u00e7\u00e3o abaixo:</p> <p>Acesse o ambiente Configurador (SIGACFG) </p> <p>Ambiente &gt; Cadastros &gt; Menus</p> <p>Selecione o menu desejado, no nosso exemplo ser\u00e1 o Compras, e clique no bot\u00e3o \u201cOK\u201d</p> <p></p> <p>No quadro da esquerda, clique no primeiro n\u00edvel da \u00e1rvore \u201cCompras\u201d e clique no bot\u00e3o \u201cAdicionar &gt;&gt;\u201d para que o menu seja enviado para o quadro da direita.</p>"},{"location":"xmle/instalacao/menus/#grupo-de-menus","title":"Grupo de Menus","text":"<p>No quadro da direita, clique na pasta \u201c&amp;Atualiza\u00e7\u00f5es\u201d e depois clique no bot\u00e3o \u201cNovo Grupo\u201d.</p> <p>Na tela que abrir digite: \u201cFACILE XML-e\u201d nos tr\u00eas campos, com isso teremos criado o grupo de menu da ferramenta.</p> <p></p>"},{"location":"xmle/instalacao/menus/#ptx0001-central-xml-e","title":"PTX0001 - Central XML-e","text":"<p>Agora vamos criar os itens desse grupo de menu, conforme passos abaixo:</p> <p>Primeiramente clique na pasta criada \u201cFACILE XML-e\u201d, com isso informamos que os itens ser\u00e3o criados dentro desse grupo de menus.</p> <p>Clique no bot\u00e3o \u201cNovo Item\u201d e preencha as Descri\u00e7\u00f5es: \u201cCentral XML-e\u201d, Programa: \u201cPTX0001\u201d e configure conforme a imagem abaixo, em seguida clique em \u201cOK\u201d para salvar:</p> <p></p>"},{"location":"xmle/instalacao/menus/#ptx0017-xml-e-a-vista","title":"PTX0017 - XML-e a Vista","text":"<p>Vamos para o pr\u00f3ximo item de menu:</p> <p>Clique no bot\u00e3o \u201cNovo Item\u201d e preencha as Descri\u00e7\u00f5es: \u201cXML-e a Vista\u201d, Programa: \u201cPTX0017\u201d e configure conforme a imagem abaixo, em seguida clique em \u201cOK\u201d para salvar:</p> <p></p>"},{"location":"xmle/instalacao/menus/#ptx0030-produto-x-fornecedor","title":"PTX0030 - Produto x Fornecedor","text":"<p>Vamos para o pr\u00f3ximo item de menu:</p> <p>Clique no bot\u00e3o \u201cNovo Item\u201d e preencha as Descri\u00e7\u00f5es: \u201cProd. X Fornecedor\u201d, Programa: \u201cPTX0030\u201d e configure conforme a imagem abaixo, em seguida clique em \u201cOK\u201d para salvar:</p> <p></p>"},{"location":"xmle/instalacao/menus/#finalizando-o-menu","title":"Finalizando o Menu","text":"<p>Para finalizar, vamos salvar o nosso menu para que j\u00e1 possa ser utilizado no m\u00f3dulo de Compras.</p> <p>Clique no bot\u00e3o \u201cGerar\u201d e na janela que abrir preencha conforme a imagem abaixo e clique no bot\u00e3o \u201cGerar\u201d dessa nova janela.</p> <p></p> <p>Confirme a gera\u00e7\u00e3o do menu e informe que deseja substituir o atual.</p> <p>Com isso finalizamos o Menu e a instala\u00e7\u00e3o da ferramenta FACILE XML-e!!</p>"},{"location":"xmle/instalacao/ponto-entrada-padrao/","title":"\ud83d\udd35Pontos de Entrada","text":"<p>Para o melhor aproveitamento da ferramenta utilizamos pontos de entrada disponibilizados pelo ERP, possibilitando intera\u00e7\u00f5es e automa\u00e7\u00f5es em diferentes momentos do documento de entrada.</p> <p>ATEN\u00c7\u00c3O: Caso seu ERP esteja no T-Cloud do fabricante (n\u00e3o permite compila\u00e7\u00e3o), solicitar \u00e0 FACILE um patch com os principais pontos de entrada para aplica\u00e7\u00e3o!</p>"},{"location":"xmle/instalacao/ponto-entrada-padrao/#mt100tok","title":"MT100TOK","text":"<p>Uso necess\u00e1rio para o correto funcionamento da ferramenta</p> <p>Utilizamos esse ponto de entrada para realizar a valida\u00e7\u00e3o dos impostos no momento da classifica\u00e7\u00e3o do documento de entrada.</p> <p>Sugerimos incluir o c\u00f3digo abaixo no final do fonte, logo antes do RETURN (caso tenha o P.E. j\u00e1 aplicado no ERP).</p> <pre><code>If lValido .And. AllTrim( FunName() ) $ \"MATA103/PTX0007/PTX0018/PTX0008/PTX0001\"\n    lValido := U_PTX0010()\nEndIf\n</code></pre> <p>Segue exemplo do ponto de entrada completo que poder\u00e1 ser utilizado (caso N\u00c3O  tenha o P.E. j\u00e1 aplicado ERP).</p> <pre><code>User Function MT100TOK()\n\n    Local aArea   := GetArea()\n    local lValido := ParamIxb[1]\n\n    If lValido .And. AllTrim( FunName() ) $ \"MATA103/PTX0007/PTX0018/PTX0008/PTX0001\"\n\n        lValido := U_PTX0010()\n\n    EndIf\n\n    RestArea(aArea)\n\nReturn lValido\n</code></pre>"},{"location":"xmle/instalacao/ponto-entrada-padrao/#mt103pn","title":"MT103PN","text":"<p>Uso necess\u00e1rio para o correto funcionamento da ferramenta</p> <p>Utilizamos esse ponto de entrada para realizar a checagem da TES e do pedido de compra nos itens do documento de entrada.</p> <p>Sugerimos incluir o c\u00f3digo abaixo no final do fonte, logo antes do RETURN (caso tenha o P.E. j\u00e1 aplicado no ERP).</p> <pre><code>If SubStr( Alltrim( FunName() ), 1, 3) == 'PTX'   \n    MsgRun(\"Checando impostos, aguarde...\",\"Processando\",{|| U_PTX0015(.T.) })\nEndIf\n</code></pre> <p>Segue exemplo do ponto de entrada completo que poder\u00e1 ser utilizado (caso N\u00c3O  tenha o P.E. j\u00e1 aplicado ERP).</p> <pre><code>User Function MT103PN()\n\n    If SubStr(Alltrim(FunName()),1,3) == 'PTX'\n        MsgRun(\"Checando impostos, aguarde...\",\" \",{|| U_PTX0015(.T.) })\n\u00a0\u00a0\u00a0\u00a0EndIf\n\nReturn .T.\n</code></pre>"},{"location":"xmle/instalacao/ponto-entrada-padrao/#mt140pc","title":"MT140PC","text":"<p>Esse ponto de entrada dever\u00e1 ser utilizado exclusivamente na situa\u00e7\u00e3o em que a empresa utilize o par\u00e2metro MV_PCNFE  ativo.</p> <p>Utilizamos o ponto de entrada para informar ao sistema que naquele momento da inclus\u00e3o da Pr\u00e9-Nota pela ferramenta n\u00e3o ser\u00e1 necess\u00e1rio realizar a valida\u00e7\u00e3o do pedido de compra.</p> <p>Obs.: A utiliza\u00e7\u00e3o desse ponto de entrada n\u00e3o atrapalha no processo padr\u00e3o adotado pelo MV_PCNFE.</p> <p>Segue exemplo do ponto de entrada que poder\u00e1 ser utilizado:</p> <pre><code>User Function MT140PC()\n\n    //|Apenas na rotina Facile XML-e |\n    If !Alltrim( FunName() ) $ \"PTX0007/PTX0018/PTX0008/PTX0001\"\n        Return Nil\n    EndIf\n\nReturn .F.\n</code></pre>"},{"location":"xmle/manuais/checkdoc/","title":"09 - CheckDoc","text":""},{"location":"xmle/manuais/checkdoc/#checkdoc","title":"Checkdoc","text":""},{"location":"xmle/manuais/checkdoc/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>O objetivo do CheckDoc \u00e9 realizar uma an\u00e1lise do XML recebido do Sefaz e verificar no ERP Protheus se as informa\u00e7\u00f5es contidas nele est\u00e3o corretas.</p> <p>Ser\u00e1 verificado:</p> <ul> <li>Dados do fornecedor</li> <li>Dados dos produtos</li> <li>Dados dos pedidos de compra</li> </ul>"},{"location":"xmle/manuais/checkdoc/#como-usar","title":"Como usar?","text":"<p>Para que um documento seja analisado pelo CheckDoc, basta selecion\u00e1-lo na tela principal da Central XML-e e chamar a ferramenta conforme demonstrado na imagem abaixo:</p> <p>Caminho: Central XML-e/Outras A\u00e7\u00f5es/CheckDoc</p> <p> Figura 1: Checkdoc no \"Outras a\u00e7\u00f5es</p> <p>Ser\u00e1 apresentado a imagem abaixo com as op\u00e7\u00f5es \u201cVisualizar an\u00e1lise atual\u201d, \u201cRealizar nova an\u00e1lise\u201d e \u201cFechar\u201d.</p> <p> Figura 2: Realiza a an\u00e1lise do Documento Fiscal</p> <p>A op\u00e7\u00e3o \u201cVisualizar an\u00e1lise atual\u201d ir\u00e1 demonstrar o resultado da \u00faltima an\u00e1lise do CheckDoc nesse documento e a op\u00e7\u00e3o \u201cRealizar nova an\u00e1lise\u201d ir\u00e1 executar todas as verifica\u00e7\u00f5es novamente e gerar um novo resultado.</p> <p>Ao selecionar a op\u00e7\u00e3o de realizar nova an\u00e1lise, basta aguardar o processamento terminar e voc\u00ea j\u00e1 poder\u00e1 visualizar o resultado da an\u00e1lise.</p> <p> Figura 3: Visualizar resultado da an\u00e1lise</p> <p>Clicando em \u201cSIM\u201d, ser\u00e1 solicitado a pasta onde o relat\u00f3rio em HTML ser\u00e1 salvo e em seguida j\u00e1 o abrir\u00e1 automaticamente.</p> <p> Figura 4: Salvar relat\u00f3rio</p> <p>O cabe\u00e7alho do relat\u00f3rio demonstra os principais dados do documento, como n\u00famero, s\u00e9rie, valor, natureza da opera\u00e7\u00e3o etc.</p> <p> Figura 5: Cabe\u00e7alho relat\u00f3rio</p>"},{"location":"xmle/manuais/checkdoc/#fornecedor","title":"Fornecedor","text":"<p>No setor \u201cFornecedor\u201d ser\u00e1 realizado a an\u00e1lise das informa\u00e7\u00f5es do fornecedor que est\u00e1 no Protheus e as informa\u00e7\u00f5es que est\u00e3o no XML.</p> <p> Figura 6: Compara\u00e7\u00e3o dos dados do Fornecedor</p> <p>S\u00e3o geradas duas linhas, sendo a primeira com os dados do XML e a segunda com os dados encontrados no Protheus (isso se o fornecedor estiver cadastrado no Protheus).</p> <p>As colunas com inconsist\u00eancia nas informa\u00e7\u00f5es s\u00e3o destacadas em vermelho para melhor identifica\u00e7\u00e3o.</p> <p>\u00c9 poss\u00edvel configurar quais colunas que deseja auditar conforme abaixo:</p> <p>Criar um par\u00e2metro com o nome ZZ_FORNC1 do tipo l\u00f3gico, ent\u00e3o se o conte\u00fado dele for .T. a coluna ser\u00e1 auditada.</p> <p>O n\u00famero no final do par\u00e2metro ZZ_FORNC1 corresponde a posi\u00e7\u00e3o da coluna em quest\u00e3o, contando da esquerda para a direita, portando se quiser auditar a coluna CNPJ/CPF, por exemplo, dever\u00e1 ativar o par\u00e2metro ZZ_FORNC4.</p>"},{"location":"xmle/manuais/checkdoc/#validacoes-do-fornecedor","title":"Valida\u00e7\u00f5es do fornecedor","text":"<ul> <li> <p>ZZ_FORNC1  - Origem (XML e ERP)</p> </li> <li> <p>ZZ_FORNC2  - Valida a raz\u00e3o social</p> </li> <li> <p>ZZ_FORNC3  - Valida o nome fantasia</p> </li> <li> <p>ZZ_FORNC4  - Valida o CNPJ</p> </li> <li> <p>ZZ_FORNC5  - Valida a inscri\u00e7\u00e3o estadual</p> </li> <li> <p>ZZ_FORNC6  - Valida o bairro</p> </li> <li> <p>ZZ_FORNC7  - Valida o c\u00f3digo munic\u00edpio</p> </li> <li> <p>ZZ_FORNC8  - Valida o Munic\u00edpio</p> </li> <li> <p>ZZ_FORNC9  - Valida a UF</p> </li> <li> <p>ZZ_FORNC10 - Valida o CEP</p> </li> </ul>"},{"location":"xmle/manuais/checkdoc/#produtos","title":"Produtos","text":"<p>No setor \u201cProdutos\u201d ser\u00e1 realizado a an\u00e1lise das informa\u00e7\u00f5es do produto e pedido de compra que est\u00e1 no Protheus e as informa\u00e7\u00f5es que est\u00e3o no XML.</p> <p> Figura 7: Compara\u00e7\u00e3o dos dados dos Produtos</p> <p>S\u00e3o geradas duas linhas para cada item do XML, sendo a primeira com os dados do XML e a segunda com os dados encontrados no Protheus (isso se o fornecedor enviar os dados do pedido de compra nas tags corretas ou pelo menos j\u00e1 existir a amarra\u00e7\u00e3o Produto x Fornecedor).</p> <p>As colunas com inconsist\u00eancia nas informa\u00e7\u00f5es s\u00e3o destacadas em vermelho para melhor identifica\u00e7\u00e3o.</p> <p>\u00c9 poss\u00edvel configurar quais colunas que deseja auditar conforme abaixo:</p> <p>Criar um par\u00e2metro com o nome ZZ_PRODC1 do tipo l\u00f3gico, ent\u00e3o se o conte\u00fado dele for .T. a coluna ser\u00e1 auditada.</p> <p>O n\u00famero no final do par\u00e2metro ZZ_PRODC1 corresponde a posi\u00e7\u00e3o da coluna em quest\u00e3o, contando da esquerda para a direita, portando se quiser auditar a coluna \u201cNumero PC\u201d, por exemplo, dever\u00e1 ativar o par\u00e2metro ZZ_PRODC6.</p>"},{"location":"xmle/manuais/checkdoc/#validacoes-dos-produtos","title":"Valida\u00e7\u00f5es dos produtos","text":"<ul> <li> <p>ZZ_PRODC1   - Valida o total de itens no xml</p> </li> <li> <p>ZZ_PRODC3   - Valida se o c\u00f3digo do produto</p> </li> <li> <p>ZZ_PRODC4   - Valida a descri\u00e7\u00e3o do produto </p> </li> <li> <p>ZZ_PRODC5   - Valida o NCM do produto </p> </li> <li> <p>ZZ_PRODC6   - Valida se o n\u00famero do pedido de compra est\u00e1 igual ao do XML</p> </li> <li> <p>ZZ_PRODC7   - Valida se o n\u00famero da ordem dos itens 001,002,...</p> </li> <li> <p>ZZ_PRODC8   - Valida a quantidade</p> </li> <li> <p>ZZ_PRODC9   - Valida o pre\u00e7o unit\u00e1rio</p> </li> <li> <p>ZZ_PRODC10  - Valida o pre\u00e7o total do item </p> </li> <li> <p>ZZ_PRODC11  - Valida a unidade de medida</p> </li> <li> <p>ZZ_PRODC12  - Valida o tipo do frete CIF ou FOB ls</p> </li> </ul> -FIM-"},{"location":"xmle/manuais/manual-usuario/","title":"03 - Manual do Usu\u00e1rio","text":""},{"location":"xmle/manuais/manual-usuario/#manual-do-usuario","title":"Manual do Usu\u00e1rio","text":""},{"location":"xmle/manuais/manual-usuario/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>O FACILE XML-e \u00e9 uma ferramenta desenvolvida no ERP Protheus visando controle e agilidade nos processos de Entrada de Nota Fiscal Eletr\u00f4nica e Confer\u00eancia de Impostos.</p> <p>A ferramenta possui uma rotina que trabalha de maneira autom\u00e1tica e transparente monitorando no SEFAZ os documentos fiscais emitidos pelos fornecedores e disponibilizando diversas funcionalidades como Manifesta\u00e7\u00e3o do Destinat\u00e1rio, Importa\u00e7\u00e3o do XML, Relat\u00f3rios, Confronto de Impostos calculados pelo ERP Protheus versus Impostos do XML, entre outros.</p>"},{"location":"xmle/manuais/manual-usuario/#a-ferramenta","title":"A Ferramenta","text":"<p>Para acess\u00e1-la, entre no m\u00f3dulo SIGACOM, no meu principal, clique em atualiza\u00e7\u00f5es e acesse a Facile XML-e, como descrito na Figura 1.</p> <p> Figura 1: Menu principal</p> <p>A Central XML-e auxilia no processo de gera\u00e7\u00e3o de documentos de entrada.</p> <p>A Gest\u00e3o \u00e0 Vista auxilia no gerenciamento dos documentos.</p>"},{"location":"xmle/manuais/manual-usuario/#facile-central-xml-e","title":"FACILE Central XML-e","text":"<p>A Figura 2 mostra a tela principal que \u00e9 a Central XML-e.</p> <p>Nela \u00e9 poss\u00edvel realizar as seguintes a\u00e7\u00f5es: Cadastrar Fornecedor, Imprimir Danfe/Dacte, Gerar Entrada, acessar Outras A\u00e7\u00f5es e pesquisar.</p> <p> Figura 2: Tela Central XML-e</p>"},{"location":"xmle/manuais/manual-usuario/#cadastrar-fornecedor","title":"Cadastrar Fornecedor","text":"<p>Ao cliente no bot\u00e3o +Cad. Fornecedor, da figura 3 abaixo:</p> <p> Figura 3: Bot\u00e3o Cad. Fornecedor</p> <p>Ao selecionar o XML desejado e clicar em +Cad. Fornecedor, poder\u00e1 ter uma mensagem de Fornecedor j\u00e1 cadastrado, caso o mesmo j\u00e1 se encontre na base de dados do Protheus (SA2). Se isso ocorrer ser\u00e1 apresentado a figura 4 abaixo:</p> <p> Figura 4: Fornecedor encontrado na SA2</p> <p>Caso contr\u00e1rio, ir\u00e1 abrir o cadastro padr\u00e3o de Fornecedor no ERP Protheus (SA2) conforme a figura 5 abaixo:</p> <p> Figura 5: Incluindo Fornecedor na SA2</p>"},{"location":"xmle/manuais/manual-usuario/#imprimir-documento","title":"Imprimir Documento","text":"<p>Nessa op\u00e7\u00e3o, basta selecionar o XML desejado para imprimir a DANFE ou DACTE correspondente. </p> <ul> <li>Imprimir DANFE/DACTE: ao selecionar um registro e clicar nessa op\u00e7\u00e3o, o sistema ir\u00e1 solicitar as configura\u00e7\u00f5es necess\u00e1rias para imprimir a DANFE, assim como descrito na Figura 6.</li> </ul> <p> Figura 6: Configura\u00e7\u00f5es de Impress\u00e3o</p>"},{"location":"xmle/manuais/manual-usuario/#gerar-entrada-inicio-do-processo-diario","title":"Gerar Entrada (In\u00edcio do processo di\u00e1rio)","text":"<p>Para gerar uma entrada, selecione uma NF e clique no bot\u00e3o Gerar Entrada, como mostra a Figura 7 abaixo:</p> <p> Figura 7: Tela principal com foco no bot\u00e3o Gerar Entrada</p> <p>Se n\u00e3o houver um XML baixado para aquela NF, ent\u00e3o o sistema se conectar\u00e1 com o SEFAZ e realizar\u00e1 o download.</p> <p> Figura 8: Conex\u00e3o com o SEFAZ</p> <p>Ap\u00f3s isso, o sistema ir\u00e1 apresentar uma tela para defini\u00e7\u00e3o do Tipo de Nota que est\u00e1 sendo realizado a entrada, sendo o padr\u00e3o \u201cNormal\u201d. Conforme a figura 9 abaixo:</p> <p> Figura 9: Tipos de Notas</p> <p>Caso a Nota Fiscal tenha alguma Carta de Corre\u00e7\u00e3o atrelada, ser\u00e1 apresentado logo na abertura.</p> <p> Figura 9.1: Carta de Corre\u00e7\u00e3o</p> <p>Ap\u00f3s isso, o sistema ir\u00e1 redirecionar para a tela \u201cGERAR ENTRADA\u201d, como exemplificado na Figura 10. A tela \u00e9 dividida em tr\u00eas sub menus, s\u00e3o eles: cabe\u00e7alho, itens e Pr\u00e9-Nota.</p> <p> Figura 10: Tela de Gerar Entrada</p> <p>A Figura 11 mostra os Itens, que s\u00e3o divididos em tr\u00eas grupos, sendo eles: itens NF-e (XML), Produto X Fornecedor e Pedidos de Compra.</p> <p> Figura 11: Sub menu Itens</p> <p>No grupo Itens NF-e (XML), \u00e9 listado todos os produtos relacionados \u00e0quela NF. Deve-se selecionar cada item com um duplo click para que o sistema mostre a amarra\u00e7\u00e3o ProdutoxFornecedor.</p> <p> Figura 12: Tela Itens NF-e (XML)</p> <p>Ao selecionar um produto, no grupo Produto x Fornecedor ser\u00e1 mostrado o produto equivalente ao que foi selecionado (Figura 13). </p> <p> Figura 13: Rela\u00e7\u00e3o Produto x Fornecedor</p> <p>Se n\u00e3o houver um produto equivalente, ser\u00e1 necess\u00e1rio inserir clicando no \u00edcone + Inclui, ao lado do nome Produto X Fornecedor (Figura 14).</p> <p> Figura 14: Bot\u00e3o de relacionar itens</p> <p>Ser\u00e1 aberta uma janela de busca onde mostrar\u00e1 os produtos dispon\u00edveis, assim como na Figura 15 abaixo:</p> <p> Figura 15: Produtos Dispon\u00edveis</p> <p>Obs. Tamb\u00e9m pode ser filtrado pelo pr\u00f3prio NCM do produto no XML (Figura 16: Bot\u00e3o NCN do XML),</p> <p> Figura 16: Bot\u00e3o NCN do XML</p> <p>Caso exista um Pedido de Compras, basta marcar o Checkbox \u201cBuscar Somente com Pedido de Compras (Figura 17).</p> <p> Figura 17: Buscar Somente com Pedido de Compras</p> <p>No grupo Pedidos de Compra, ser\u00e3o listados os pedidos relacionados aqueles produtos, se houver (Figura 18).</p> <p> Figura 18: Tela de Pedidos de Compra</p> <p>A Figura 19, mostra uma Pr\u00e9-Nota com os produtos selecionados no subgrupo Itens. Se o produto tiver sido selecionado, ent\u00e3o ele estar\u00e1 com o status Liberado, representado pela legenda verde. Se n\u00e3o tiver sido selecionado, ele estar\u00e1 com status Pendente, representado pela legenda vermelha.</p> <p> Figura 19: Pr\u00e9-Nota com um produto Pendente e outro Liberado</p> <p>Aten\u00e7\u00e3o: \u00c9 necess\u00e1rio que todos os itens estejam liberados (Status Verde) para prosseguir, conforme figura 20 abaixo:</p> <p> Figura 20: Pr\u00e9-Nota com todos itens Liberados</p> <p>Ap\u00f3s essas configura\u00e7\u00f5es, clique no bot\u00e3o Confirmar e a Pr\u00e9-Nota estar\u00e1 realizada.</p> <p> Figura 21: Confirmar cria\u00e7\u00e3o da Pr\u00e9-Nota</p> <p>Depois de terminar de processar as informa\u00e7\u00f5es, o sistema ir\u00e1 redirecionar para a tela do Documento de Entrada PADR\u00c3O (Gerar Entrada), como mostra a Figura 22.</p> <p> Figura 22: Tela para gerar entrada</p> <p>Nessa tela, \u00e9 necess\u00e1rio escolher o Tipo de Entrada para cada produto, al\u00e9m de preencher as informa\u00e7\u00f5es sobre condi\u00e7\u00f5es de pagamento, descri\u00e7\u00e3o e natureza dos produtos, na aba Duplicatas, como mostra a Figura 23.</p> <p> Figura 23: Aba duplicata</p> <p>Em seguida, clique no bot\u00e3o salvar e aguarde a tela de confirma\u00e7\u00e3o.</p> <p>Caso o sistema detecte diverg\u00eancias entre a TES informada e o XML importado, apresentar\u00e1 a seguinte tela da Figura 24: Onde demonstra nas colunas 1 e 3 de acordo com o que est\u00e1 parametrizado na TES e nas colunas 2 e 4 como veio no XML.</p> <p> Figura 24: Confronto XML x TES</p> <p>Obs. Pode ser feita a corre\u00e7\u00e3o manual e continuar o processo normalmente.</p> <p>Caso n\u00e3o tenha verificado nenhuma diverg\u00eancia entre o TES x XML ou as mesmas tenham sidos sanadas/ignoradas, o sistema dar\u00e1 a op\u00e7\u00e3o de transmitir a manifesta\u00e7\u00e3o de confirma\u00e7\u00e3o para o SEFAZ, como mostra a Figura 25.</p> <p> Figura 25: Op\u00e7\u00e3o de transmiss\u00e3o para o SEFAZ</p> <p>Ao selecionar a op\u00e7\u00e3o sim, o sistema mostrar\u00e1 a tela de Manifesta\u00e7\u00e3o (Figura 26).</p> <p> Figura 26: Tela de Manifesta\u00e7\u00e3o</p> <p>Caso seja selecionado N\u00c3O (na Figura 25) ou ap\u00f3s a manifesta\u00e7\u00e3o, o sistema redirecionar\u00e1 para a tela Central XML-e com a legenda da nota criada alterada para o status \u201cNF-e possui classifica\u00e7\u00e3o\u201d, representada pela cor vermelha, assim como mostra a Figura 27. </p> <p> Figura 27: Central XML-e com nota classificada</p> <p>Dessa maneira, o processo de Documento de Entrada e Manifesta\u00e7\u00e3o est\u00e1 finalizado.</p>"},{"location":"xmle/manuais/manual-usuario/#outras-acoes","title":"Outras A\u00e7\u00f5es","text":"<p>Ao selecionar Outras A\u00e7\u00f5es, um menu aparecer\u00e1 contendo todas as op\u00e7\u00f5es listadas abaixo:</p> <p> Figura 28: Menu de Outras A\u00e7\u00f5es</p> <ul> <li>Pesquisar: essa funcionalidade disponibiliza uma maneira mais r\u00e1pida de procurar por um registro, que pode ser feito por meio da chave NF e outros filtros padr\u00e3o, como mostra a Figura 3. A Figura 4, mostra a tela de pesquisa ap\u00f3s clicar no bot\u00e3o par\u00e2metros, permitindo a entrada das outras informa\u00e7\u00f5es para filtragem de acordo com o filtro selecionado.</li> </ul> <p> Figura 29: Filtros poss\u00edveis</p> <p> Figura 30: Tela de pesquisa mostrando os par\u00e2metros</p> <ul> <li> <p>Documento de Entrada: essa funcionalidade disponibiliza de uma maneira r\u00e1pida as op\u00e7\u00f5es de Entrada de NF a fim de agilizar o dia a dia do usu\u00e1rio. A Figura 31, mostra as op\u00e7\u00f5es dispon\u00edveis.</p> <p> Figura 31: Op\u00e7\u00f5es de Documento de Entrada</p> <ul> <li>Pr\u00e9-Nota - Classificar: essa op\u00e7\u00e3o s\u00f3 estar\u00e1 dispon\u00edvel se houver uma Pr\u00e9-Nota lan\u00e7ada e o XML constar no ERP, assim como mostra a Figura 32. \u00c9 poss\u00edvel identificar um registro que possui Pr\u00e9-Nota lan\u00e7ada se essa estiver com legenda amarela (Figura 33).</li> </ul> </li> </ul> <p> Figura 32: Aviso sobre restri\u00e7\u00e3o para classificar nota</p> <p> Figura 33: Registro com legenda amarela representando que existe uma Pr\u00e9-Nota lan\u00e7ada</p> <ul> <li> <p>NF-e: Engloba v\u00e1rias fun\u00e7\u00f5es da NF-e no mesmo submenu a fim de agilizar o dia a dia do usu\u00e1rio. A Figura 34, mostra as op\u00e7\u00f5es dispon\u00edveis.</p> <p> Figura 34: Op\u00e7\u00f5es de NF-e</p> <ul> <li> <p>Classificar NF-e: essa op\u00e7\u00e3o s\u00f3 estar\u00e1 dispon\u00edvel se houver uma Pr\u00e9-Nota lan\u00e7ada e o XML constar no ERP, assim como mostra a Figura 32. \u00c9 poss\u00edvel identificar um registro que possui Pr\u00e9-Nota lan\u00e7ada se essa estiver com legenda amarela (Figura 33).</p> </li> <li> <p>Buscar Chave Avulsa: ao inv\u00e9s de sincronizar todos os documentos, o sistema permite buscar uma chave espec\u00edfica. A Figura 35 mostra a tela de busca.</p> </li> </ul> <p> Figura 35: Tela de busca de chave avulsa</p> <ul> <li>Manifestar: a tela de manifesta\u00e7\u00e3o cont\u00e9m as seguintes partes: Manifesto, Emitente e Nota Fiscal, como mostra a Figura 36.</li> </ul> <p>No Manifesto, dever\u00e1 ser inserido o tipo de manifesta\u00e7\u00e3o que est\u00e1 sendo realizada, a qual est\u00e1 dividida em quatro op\u00e7\u00f5es: </p> <ol> <li>Confirma\u00e7\u00e3o da Opera\u00e7\u00e3o: o emitente reconhece a opera\u00e7\u00e3o e a confirma.</li> <li>Ci\u00eancia da Opera\u00e7\u00e3o: o emitente reconhece a opera\u00e7\u00e3o, por\u00e9m ainda n\u00e3o est\u00e1 confirmada.</li> <li>Desconhecimento da Opera\u00e7\u00e3o: o emitente n\u00e3o reconhece a opera\u00e7\u00e3o.</li> <li>Opera\u00e7\u00e3o n\u00e3o Realizada: o emitente gerou a nota, por\u00e9m houve algum cancelamento e a opera\u00e7\u00e3o n\u00e3o foi efetivamente realizada.</li> </ol> <p>No Emitente, cont\u00e9m as informa\u00e7\u00f5es de quem est\u00e1 emitindo, assim como na Nota Fiscal cont\u00e9m as informa\u00e7\u00f5es da nota fiscal que ser\u00e1 manifestada.</p> <p> Figura 36: Tela de Manifesta\u00e7\u00e3o</p> <ul> <li>Monitorar: essa op\u00e7\u00e3o serve para acompanhar a nota ap\u00f3s a manifesta\u00e7\u00e3o. A Figura 37 mostra um exemplo de informa\u00e7\u00f5es necess\u00e1rias para realizar o monitoramento.</li> </ul> <p> Figura 37: Tela de monitoramento</p> <ul> <li>Manifestar em Lote: Atrav\u00e9s dessa op\u00e7\u00e3o \u00e9 poss\u00edvel realizar a manifesta\u00e7\u00e3o de um LOTE de XML de uma \u00fanica vez. A Figura 38 mostra a tela de par\u00e2metros necess\u00e1ria para filtrar quais notas ser\u00e3o manifestadas.,</li> </ul> <p> Figura 38: Par\u00e2metros para manifestar em lote</p> </li> </ul> <p>Ser\u00e1 apresentada a tela da figura 39 abaixo. Nela deve-se marcar (duplo click) quais XML ir\u00e3o ser manifestados, depois clicar em Manifestar.</p> <p> Figura 39: Manifesta\u00e7\u00e3o em lote.</p> <ul> <li> NFS-e Beta: Rotina de importa\u00e7\u00e3o de PDF\u00b4s de Notas Fiscais de Servi\u00e7o, conforme mostra a Figura 40 abaixo:</li> </ul> <p> Figura 40: Importar PDF de NFS-e</p> <p>Obs. Ser\u00e1 necess\u00e1rio ter o arquivo no formato PDF em uma pasta no computador.</p> <p> Figura 41: Pasta com PDF de NFS-e</p> <p>Ao selecionar a pasta onde se encontram os PDF\u00b4s, ir\u00e1 abrir a tela para selecionar quais ser\u00e3o importados. </p> <p> Figura 42: Importa\u00e7\u00e3o de NFS-e por PDF</p> <ol> <li>Clicar no Bot\u00e3o Importar PDF para a ferramenta analisar e importar os PDF da pasta;</li> <li>Ap\u00f3s os PDF terem sido importados, caso deseje, pode-se gerar a entrada de todas as NFS-e nesta mesma tela atrav\u00e9s da op\u00e7\u00e3o Gerar Doc. Entrada.</li> </ol> <p>Aten\u00e7\u00e3o: Caso alguma NFS-e no formado PDF n\u00e3o seja importada, apresentando a mensagem \u201cModelo n\u00e3o encontrado\u201d, ficar\u00e1 com status vermelho conforme imagem 43. Deve-se abrir um ticket no portal da FACILE, anexando o PDF da NFS-e em quest\u00e3o, solicitando homologa\u00e7\u00e3o de munic\u00edpio.</p> <p> Figura 43: Munic\u00edpio n\u00e3o Homologado</p> <ul> <li> <p>CT-e: Neste menu est\u00e3o agrupadas as fun\u00e7\u00f5es destinadas ao CT-e, conforme mostra a Figura 44 abaixo:</p> <p> Figura 44: Menu de CT-e</p> <ul> <li>Buscar SEFAZ: esta op\u00e7\u00e3o tem por objetivo buscar no SEFAZ nos \u00faltimos 90 dias, documentos que ainda n\u00e3o foram baixados automaticamente. </li> </ul> <p> Figura 45: Busca SEFAZ de CT-e</p> <ul> <li>Consulta Status: esta op\u00e7\u00e3o tem por objetivo buscar o status do CTE selecionado junto ao SEFAZ, conforme figura 46.</li> </ul> <p> Figura 46: Consulta Status do CT-e no SEFAZ</p> <ul> <li>Manif. Desacordo: esta op\u00e7\u00e3o tem por objetivo transmitir a manifesta\u00e7\u00e3o de desacordo no SEFAZ do CTE selecionado, conforme figura 47. Obs. \u00c9 necess\u00e1rio preencher uma observa\u00e7\u00e3o com no m\u00ednimo 15 e no m\u00e1ximo 255 caracteres.</li> </ul> <p> Figura 47: Manifesta\u00e7\u00e3o de Desacordo do CT-e no SEFAZ</p> <ul> <li>Monitorar: essa op\u00e7\u00e3o serve para acompanhar o CT-e ap\u00f3s a manifesta\u00e7\u00e3o.</li> </ul> </li> <li> <p>Manuten\u00e7\u00e3o TI: Menu destinado aos administradores do ERP Protheus de sua empresa, acesso apenas com permiss\u00e3o de Admin.</p> <p> Figura 48: Op\u00e7\u00f5es de Manuten\u00e7\u00e3o TI</p> <ul> <li>Buscar Avan\u00e7ada SEFAZ (Somente Admin): esta op\u00e7\u00e3o tem por objetivo sincronizar com a SEFAZ os documentos que ainda n\u00e3o sofreram manifesta\u00e7\u00f5es do destinat\u00e1rio. A Figura 49 mostra a tela do sistema para essa op\u00e7\u00e3o.</li> </ul> <p> Figura 49: Tela para sincronizar documentos</p> </li> </ul> <p>Obs. O sistema \u00e9 parametrizado para realizar essa busca automaticamente, assim o Bot\u00e3o \u201cBuscar Avan\u00e7ada SEFAZ\u201d serve para for\u00e7ar essa busca a qualquer momento caso os servi\u00e7os autom\u00e1ticos n\u00e3o estejam funcionando ou desativados.</p> <ul> <li>Relat\u00f3rios: Nesse menu poder\u00e1 extrair diretamente alguns relat\u00f3rios, sem necessitar usar a rotina Gest\u00e3o a Vista. S\u00e3o eles: XML\u00b4s n\u00e3o Importados e Manifesta\u00e7\u00e3o de Destinat\u00e1rio.</li> </ul> <p> Figura 50: Relat\u00f3rios</p> <ul> <li>Buscar XML e-mail: (Necess\u00e1rio configura\u00e7\u00e3o pr\u00e9via) O sistema pode ser configurado para ter mais de uma op\u00e7\u00e3o de baixa de XML, al\u00e9m da autom\u00e1tica. Para tal, \u00e9 necess\u00e1rio solicitar seu TI que configure (em caso de d\u00favidas solicitar apoio a equipe FACILE) um email para receber XML. Ao clicar no Bot\u00e3o Buscar XML e-mail ser\u00e1 feito uma busca e importa\u00e7\u00e3o dos XML da conta de email configurada para dentro da Central XML-e.</li> </ul> <p> Figura 51: Buscar XML por e-mail</p> <ul> <li>Exportar XML: essa op\u00e7\u00e3o permite exportar o XML, mas apenas dos que j\u00e1 est\u00e3o baixados. A Figura 52 mostra a tela de exporta\u00e7\u00e3o.</li> </ul> <p> Figura 52: Tela de Exporta\u00e7\u00e3o XML</p> <ul> <li>Importar XML Computador: Assim como a fun\u00e7\u00e3o buscar XML e-mail, outra forma de importar um arquivo XML para a Central XML-e sem ser automaticamente \u00e9 a Busca direta de um diret\u00f3rio do computador. Ao clicar em \u201cImportar XML Computador\u201d ser\u00e1 apresentado uma tela de Browser, figura 54.</li> </ul> <p> Figura 53: Menu Importa\u00e7\u00e3o de XML manual</p> <p> Figura 54: Importa\u00e7\u00e3o de XML manual</p> <ul> <li>Entrada em Lote: Fun\u00e7\u00e3o criada para possibilitar a entrada em Lote de uma ou v\u00e1rias pr\u00e9-notas, deve-se filtrar os par\u00e2metro da figura 55, ent\u00e3o ser\u00e3o apresentadas os XML dispon\u00edveis para a entrada de Pr\u00e9-Nota em Lote (Figura 56).</li> </ul> <p> Figura 55: Par\u00e2metros para a entrada de Pr\u00e9-notas em lote.</p> <p>Ap\u00f3s preencher os par\u00e2metros, clique em OK e ir\u00e1 apresentar as notas dispon\u00edveis para sele\u00e7\u00e3o.</p> <p> Figura 56: Tela de Pr\u00e9-notas em lote.</p> <p>Ap\u00f3s selecionar as notas desejadas, clicar em Gerar Pr\u00e9-Nota ou Gerar Doc. Entrada (caso queira j\u00e1 ir para a classifica\u00e7\u00e3o em lote).</p> <ul> <li>Legenda: cada registro possui uma legenda(cor) que identifica o seu status. As legendas poss\u00edveis est\u00e3o descritas na Figura 57.</li> </ul> <p> Figura 57: Significado das legendas</p> <ul> <li>\u2022   Imprimir Browse: essa op\u00e7\u00e3o permite imprimir ou exportar para diversos formatos, toda listagem que aparece na tela Central XML-e. A Figura 58 mostra a tela de impress\u00e3o/exporta\u00e7\u00e3o.</li> </ul> <p> Figura 58: Tela de Impress\u00e3o/Exporta\u00e7\u00e3o</p>"},{"location":"xmle/manuais/manual-usuario/#gestao-a-vista","title":"Gest\u00e3o \u00e0 vista","text":"<p>Ao selecionar Gest\u00e3o \u00e0 vista no menu inicial, o sistema mostrar\u00e1 uma tela de filtro (Figura 59) para selecionar de que data at\u00e9 que data o usu\u00e1rio deseja que sejam realizadas as an\u00e1lises dos documentos.</p> <p> Figura 59: Tela de filtro Gest\u00e3o \u00e0 vista</p> <p>Ap\u00f3s isso, o sistema mostra a tela principal Gest\u00e3o \u00e0 vista (Figura 60). Nela, \u00e9 poss\u00edvel obter as seguintes informa\u00e7\u00f5es sobre: </p> <p>\u2022 Controle de Entradas: o sistema mostra a quantidade de XML dispon\u00edveis e a quantidade sem NF de entrada, al\u00e9m de um gr\u00e1fico para acompanhamento visual.</p> <p>\u2022 Compras Mensais: por meio de um gr\u00e1fico de barras, \u00e9 poss\u00edvel acompanhar de forma sint\u00e9tica os gastos mensais com compras.</p> <p>\u2022 NF-e Cancelados: o sistema mostra a quantidade de XML cancelados e a quantidade que foi lan\u00e7ada no ERP, al\u00e9m de um gr\u00e1fico para acompanhamento visual.</p> <p>\u2022 Gest\u00e3o de Fornecedores: o sistema mostra a quantidade de fornecedores que tem XML emitido contra sua empresa e ainda n\u00e3o est\u00e3o cadastrados no sistema.</p> <p>\u2022 NF-e Faltando XML: o sistema mostra quantidade de Documentos de Entrada que foram inclu\u00eddos no sistema sem anexar o seu XML.</p> <p>\u2022 Central XML-e: Licen\u00e7a do cliente.</p> <p> Figura 60: Tela de Gest\u00e3o \u00e0 vista</p> <p>Caso necessite realizar outro filtro, basta clicar no bot\u00e3o Config  ou pressionar a tecla F12 que a tela de filtro aparecer\u00e1 novamente.</p> <p>Desse modo, \u00e9 poss\u00edvel realizar o gerenciamento dos documentos em um s\u00f3 local.</p>"},{"location":"xmle/manuais/manual-usuario/#check-doc","title":"Check Doc","text":"<p>\u00c9 poss\u00edvel utilizar a ferramenta tanto de forma autom\u00e1tica (necess\u00e1rio parametriza\u00e7\u00e3o pr\u00e9via) ou manual. Aqui iremos demonstrar a forma manual.</p> <p>Na Central XML-e, v\u00e1 em \u201cOutras A\u00e7\u00f5es/CheckDoc\u201d.</p> <p> Figura 61: Menu CheckDoc</p> <p> Figura 62: CheckDoc Manual</p> <p>Clicar em Realizar nova an\u00e1lise.</p> <p> Figura 63: Confirma\u00e7\u00e3o CheckDoc</p> <p>Escolha, Sim. Selecione uma pasta para salvar o relat\u00f3rio.</p> <p> Figura 64: Diret\u00f3rio onde ser\u00e1 saldo o arquivo de an\u00e1lise do CheckDoc</p> <p>Ir\u00e1 apresentar o relat\u00f3rio comparando na linha de cima o que est\u00e1 no XML e na de baixo no ERP Protheus.</p> <p> Figura 65: Relat\u00f3rio CheckDoc</p> -FIM-"},{"location":"xmle/manuais/webservice/","title":"14 - Configura\u00e7\u00e3o do Webservice Checkdoc","text":""},{"location":"xmle/manuais/webservice/#manual-de-configuracao-do-webservice-checkdoc","title":"Manual de configura\u00e7\u00e3o do Webservice Checkdoc","text":""},{"location":"xmle/manuais/webservice/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>O objetivo de configurar um Webservice para o CheckDoc \u00e9 realizar uma an\u00e1lise AUTOM\u00c1TICA do XML recebido do Sefaz e verificar no ERP Protheus\u00ae se as informa\u00e7\u00f5es contidas nele est\u00e3o corretas.</p> <p>Ser\u00e1 verificado:</p> <ul> <li>Abertura do HTML do Checkdoc por link no e-mail;</li> </ul>"},{"location":"xmle/manuais/webservice/#como-usar","title":"Como usar?","text":"<p>Ap\u00f3s a configura\u00e7\u00e3o, ser\u00e1 enviado automaticamente para o(s) e-mail(s) cadastrado(s) no par\u00e2metro: ZZ_ECKDOC - Par\u00e2metros com e-mails separados por (;)</p>"},{"location":"xmle/manuais/webservice/#detalhamento-dos-servicos-observacoes","title":"Detalhamento dos Servi\u00e7os / Observa\u00e7\u00f5es","text":"<p>Atividades inclu\u00eddas:</p> <ul> <li> <p>Viabilizar a abertura e exibi\u00e7\u00e3o das informa\u00e7\u00f5es registradas com base na execu\u00e7\u00e3o, atrav\u00e9s do hyperlink que passa a ser formatado sob a chave que corresponde \u00e0 uma das colunas do e-mail com as informa\u00e7\u00f5es, da apura\u00e7\u00e3o checkdoc.</p> </li> <li> <p>Agregar \u00e0s informa\u00e7\u00f5es do e-mail de diverg\u00eancia emitido p\u00f3s apura\u00e7\u00e3o checkdoc. </p> </li> </ul>"},{"location":"xmle/manuais/webservice/#informacoes-tecnicas-relevantes","title":"Informa\u00e7\u00f5es t\u00e9cnicas relevantes","text":"<p>Par\u00e2metros envolvidos:</p> <ul> <li>ZZ_PATHWS - Par\u00e2metro para registro do path no Protheus_Data, do webservice, onde ser\u00e3o gerados os arquivos. </li> </ul> <p>Exemplo: \\web\\ facile_checkdoc</p> <ul> <li>ZZ_DFWEBS - Par\u00e2metro para registro do rootpath, do servi\u00e7o webservice \u2013 Protheus, direcionado \u00e0 pasta onde estar\u00e3o salvos os arquivos, e que ser\u00e1 utilizado para carga do arquivo em navegador web (browse). </li> </ul> <p>Exemplo: http://192.168.200.171:8079/facile_checkdoc/**</p> <ul> <li>ZZ_ECKDOC - Par\u00e2metros com e-mails que ir\u00e3o receber, separados por (;)</li> </ul> <p>Exemplo: compras@nomedaempresa.com.br;outroemail@nomedoemail.com.br </p> <p>ATEN\u00c7\u00c3O: S\u00e3o requisitos que as funcionalidades HTTP e REST do Protheus estejam configuradas e em execu\u00e7\u00e3o para o correto funcionamento dessa rotina.</p>"},{"location":"xmle/manuais/webservice/#configuracao-do-webservice-checkdoc","title":"Configura\u00e7\u00e3o do webservice Checkdoc","text":""},{"location":"xmle/manuais/webservice/#appserver_facileini","title":"Appserver_FACILE.ini","text":"<p>Incluir no servi\u00e7o Appserver.ini destinado ao FACILE XML-e (normalmente nomeado como appserver_Facile.ini, Appserver01...), na pasta do servi\u00e7o do Facile XML-e, o job PTXJ005.</p> <p>Ex. (em vermelho)</p> <p>AppServer01:</p> <pre><code>;;Job Respons\u00e1vel pelo Workflow do Checkdoc\n[PTXJ005]\nMAIN=U\\_PTXJ005\nENVIRONMENT=FACILE\nnparms=2\nParm1=01\nParm2=0101\n\n;;Tag respons\u00e1vel por inicializar e controlar os jobs\n[ONSTART]\nJOBS=PTXJ001,PTXJ003,PTXJ008,PTXJ005\nREFRESHRATE=4000\n</code></pre> <p>O que significa cada TAG?</p> <p>ENVIRONMENT     =&gt; Ambiente que o JOB ser\u00e1 executado                                 MAIN            =&gt; Nome do programa a ser chamado                                    nparms          =&gt; Quantidade de par\u00e2metro a serem utilizados                        Parm1           =&gt; Informe o c\u00f3digo da Empresa                                       Parm2           =&gt; Informe o c\u00f3digo da Filial                                        REFRESHRATE     =&gt; Intervalo de tempo, em segundos, para que o Job seja executado   </p> <p>Com base na execu\u00e7\u00e3o da rotina JOB, integrante do FACILE XML-e, para apura\u00e7\u00e3o de diverg\u00eancias nos registros identificados, passa a ser formatado um arquivo contendo as informa\u00e7\u00f5es da apura\u00e7\u00e3o.</p> <p>Este arquivo \u00e9 registrado em diret\u00f3rio espec\u00edfico ligado ao webservice \u2013 Protheus\u00ae.</p> <p> Figura 01: Diret\u00f3rio Webservice</p> <p>Ao receber o e-mail contendo as informa\u00e7\u00f5es de diverg\u00eancia, passe-se a observar e ter a a\u00e7\u00e3o de click na coluna: Chave.</p> <p>Ao clicar na informa\u00e7\u00e3o, ser\u00e1 aberto \u2013 em navegador WEB (browse), o arquivo contendo as informa\u00e7\u00f5es apuradas.</p> <p> Figura 02: Diverg\u00eancia encontrada</p> <p>Ao clicar em um dos links abrir\u00e1 sua consulta:</p> <p> Figura 03: Consulta da diverg\u00eancia</p>"},{"location":"xmle/manuais/webservice/#workflow-de-notificacao-checkdoc","title":"Workflow de notifica\u00e7\u00e3o Checkdoc","text":""},{"location":"xmle/manuais/webservice/#resumo","title":"Resumo","text":"<ol> <li>Enviar workflow com todas as chaves que est\u00e3o com diverg\u00eancia no CheckDoc e ainda n\u00e3o foram corrigidas;</li> <li>Criar par\u00e2metro para definir data inicial da busca.</li> </ol>"},{"location":"xmle/manuais/webservice/#detalhamento-dos-servicos","title":"Detalhamento dos Servi\u00e7os","text":"<p>Atividades inclu\u00eddas</p> <ul> <li>Possibilitar que os usu\u00e1rios envolvidos sejam constantemente lembrados dos problemas nas notas fiscais que precisam ser corrigidos</li> </ul>"},{"location":"xmle/manuais/webservice/#informacoes-tecnicas-relevantes_1","title":"Informa\u00e7\u00f5es t\u00e9cnicas / Relevantes","text":"<p>Par\u00e2metros envolvidos:</p> <ul> <li>ZZ_CHKRETR - Par\u00e2metro num\u00e9rico informando a quantidade de dias ser\u00e1 retrocedido para buscar as notas fiscais que continuam com falha no CheckDoc.</li> </ul> <p>Exemplo: 30</p>"},{"location":"xmle/manuais/webservice/#passo-a-passo","title":"Passo a passo","text":"<p>O workflow ser\u00e1 enviado atrav\u00e9s do job PTXJ005, que hoje j\u00e1 \u00e9 utilizado para realizar a primeira checagem do CheckDoc das notas fiscais baixadas do Sefaz.</p> <p>Para desativar o envio do workflow basta configurar o par\u00e2metro ZZ_CHKRETR com o valor 0 (zero).</p> -FIM-"}]}